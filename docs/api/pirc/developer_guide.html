<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>developer_guide (pirc.developer_guide)</title><meta charset="utf-8"/><link rel="stylesheet" href="../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script><script>let base_url = '../';
let search_urls = ['db.js','../sherlodoc.js'];
</script><script src="../odoc.support/odoc_search.js" defer="defer"></script></head><body class="odoc"><nav class="odoc-nav"><a href="index.html">Up</a> â€“ <a href="../index.html">Index</a> &#x00BB; <a href="index.html">pirc</a> &#x00BB; developer_guide</nav><div class="odoc-search"><div class="search-inner"><input class="search-bar" placeholder="ðŸ”Ž Type '/' to search..."/><div class="search-snake"></div><div class="search-result"></div></div></div><header class="odoc-preamble"><h1 id="developer-guide"><a href="#developer-guide" class="anchor"></a>Developer Guide</h1><p>To access other packages and/or guides: <a href="#navigation" title="navigation">see Navigation</a></p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#overview">Overview</a></li><li><a href="#architecture-overview">Architecture Overview</a><ul><li><a href="#compilation-pipeline">Compilation Pipeline</a></li></ul></li><li><a href="#project-structure">Project Structure</a></li><li><a href="#internal-libraries">Internal Libraries</a></li><li><a href="#contributing">Contributing</a><ul><li><a href="#development-setup">Development Setup</a></li><li><a href="#code-style">Code Style</a></li><li><a href="#testing">Testing</a></li></ul></li><li><a href="#navigation">Navigation</a></li><li><a href="#resources">Resources</a></li></ul></nav></div><div class="odoc-content"><h2 id="overview"><a href="#overview" class="anchor"></a>Overview</h2><p>This guide is for contributors to the Pirouette compiler. It covers the internal architecture, codebase organization, and development workflow.</p><p><b>What you'll find here:</b></p><ul><li>Compiler pipeline architecture and implementation</li><li>Project structure and internal libraries</li><li>Development setup and contribution guidelines</li><li>Testing and documentation practices</li></ul><h2 id="architecture-overview"><a href="#architecture-overview" class="anchor"></a>Architecture Overview</h2><p>The Pirouette compiler follows a multi-phase architecture:</p><h3 id="compilation-pipeline"><a href="#compilation-pipeline" class="anchor"></a>Compilation Pipeline</h3><p>1. <b>Lexical Analysis</b> (<code>lib/parsing/lexer.mll</code>) - Tokenization</p><p>2. <b>Parsing</b> (<code>lib/parsing/parser.mly</code>) - AST construction</p><p>3. <b>Type Checking</b> (<code>lib/typing</code>) - Type safety verification</p><p>4. <b>Projection</b> (<code>lib/netgen</code>) - Endpoint extraction</p><p>5. <b>Code Generation</b> (<code>lib/ocamlgen</code>) - Backend code generation</p><h2 id="project-structure"><a href="#project-structure" class="anchor"></a>Project Structure</h2><pre class="language-ocaml"><code>lib/
â”œâ”€â”€ ast_core/      # Core AST definitions
â”œâ”€â”€ ast_utils/     # AST manipulation utilities
â”œâ”€â”€ http_pirc/     # HTTP runtime (public API)
â”œâ”€â”€ netgen/        # Network code generation
â”œâ”€â”€ ocamlgen/      # OCaml backend
â”œâ”€â”€ parsing/       # Lexer and parser (Menhir)
â””â”€â”€ typing/        # Type checking</code></pre><h2 id="internal-libraries"><a href="#internal-libraries" class="anchor"></a>Internal Libraries</h2><ul><li><code>ast_core</code> - Core abstract syntax tree definitions</li><li><code>ast_utils</code> - AST traversal and manipulation</li><li><code>http_pirc</code> - Public HTTP runtime</li><li><code>netgen</code> - Endpoint projection</li><li><code>ocamlgen</code> - OCaml code generation</li><li><code>parsing</code> - Menhir-based parser</li><li><code>typing</code> - Type system implementation</li></ul><h2 id="contributing"><a href="#contributing" class="anchor"></a>Contributing</h2><h3 id="development-setup"><a href="#development-setup" class="anchor"></a>Development Setup</h3><pre class="language-ocaml"><code>  # Install dependencies
  opam install . --deps-only --with-test --with-doc
  
  # Build
  dune build
  
  # Run tests
  dune test
  
  # Build documentation
  dune build @doc</code></pre><h3 id="code-style"><a href="#code-style" class="anchor"></a>Code Style</h3><h3 id="testing"><a href="#testing" class="anchor"></a>Testing</h3><ul><li>Unit tests: <code>ounit2</code></li><li>Coverage: <code>bisect_ppx</code></li><li>Run: <code>dune test</code></li></ul><h2 id="navigation"><a href="#navigation" class="anchor"></a>Navigation</h2><p><a href="../index.html">All Packages</a> | <a href="user_guide.html" title="user_guide">User Guide</a> | <a href="#" title="developer_guide">Developer Guide</a></p><ul><li><a href="../index.html">All Packages</a> - Documentation Navigation</li><li><a href="user_guide.html" title="user_guide">User Guide</a> - How to use the Pirouette compiler</li><li><a href="#" title="developer_guide">Developer Guide</a> - Contributing and internal architecture</li></ul><h2 id="resources"><a href="#resources" class="anchor"></a>Resources</h2><ul><li><a href="https://github.com/Foundations-of-Decentralization-Group/Pirouette-Compiler">GitHub Repository</a></li><li><a href="https://github.com/akhirsch/Pirouette-Compiler/blob/main/docs/compiler_Guide">Detailed Compiler Guide</a></li><li><a href="https://github.com/akhirsch/Pirouette-Compiler/wiki/Compiler-Pipeline-Diagram">Compiler Pipeline Diagram</a></li><li><a href="user_guide.html" title="user_guide">User Guide</a></li></ul></div></body></html>
