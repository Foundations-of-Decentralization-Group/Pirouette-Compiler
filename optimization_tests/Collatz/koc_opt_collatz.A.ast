test_collatz
  inp := if ret inp = 1 then ret 0 else let res1 := ret inp / 2; in let 
                                                                    res2 := 
                                                                    ret 
                                                                    res1 *
                                                                    2; in 
                                                                    if 
                                                                    ret 
                                                                    res2 =
                                                                    inp then 
                                                                    let 
                                                                    part_res := 
                                                                    ret 
                                                                    test_collatz 
                                                                    ret 
                                                                    res1; in 
                                                                    ret 
                                                                    part_res +
                                                                    1 else 
                                                                    let 
                                                                    res3 := 
                                                                    ret 
                                                                    3 * inp +
                                                                    1; in 
                                                                    let 
                                                                    res4 := 
                                                                    ret 
                                                                    test_collatz 
                                                                    ret 
                                                                    res3; in 
                                                                    ret 
                                                                    1 +
                                                                    res4;
_ := unit;
_ := unit;
_ := unit;
_ := unit;
_ := unit;
_ := unit;
broadcast_opt
  freq := if ret freq > 0 then choose L1 for B in choose L2 for C in 
                                                  let reply_B := <~ B; in 
                                                    let reply_C := <~ C; in 
                                                      let reply_D := <~ D; in 
                                                        let reply_E := <~ E; in 
                                                          let reply_F := 
                                                                <~ F; in 
                                                            let reply_G := 
                                                                  <~ G; in 
                                                              broadcast_opt 
                                                              ret freq - 1 else 
          choose R1 for B in choose R2 for C in ret print_endline ret 
                                                                    "Done with all the computations - Optimized";
main := broadcast_opt ret 1000;
