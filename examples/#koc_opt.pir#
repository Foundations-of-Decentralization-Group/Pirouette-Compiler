spread freq :=

    if A.(freq > 0) then 
		A[L1] ~> B;
		A[L2] ~> C;
		B[L3] ~> D;
		B[L4] ~> E;
		C[L5] ~> F;
		C[L6] ~> G;

		 	let B.x := B.10; in 
			let C.x := C.10; in
			let D.x := D.10; in
			let E.x := E.10; in
			let F.x := F.10; in
			let G.x := G.10; in spread A.(freq - 1)

	else	 
		A[R1] ~> B;
		A[R2] ~> C;
		B[R3] ~> D;
		B[R4] ~> E;
		C[R5] ~> F;
		C[R6] ~> G;

			let B.x := B.11; in
			let C.x := C.11; in
			let D.x := D.11; in
			let E.x := E.11; in
			let F.x := F.11; in
			let G.x := G.11; in G.print_endline G."Terminate";

main := spread A.1000000;
